The `db/upgrade.php` file contains upgrade steps, including database schema changes, changes to settings, and other steps which must be performed during upgrade.

See the [[Upgrade API]] documentation for further information.

:::danger Generating Database Schema changes

When making changes to the database schema you **must** use the build-in [[XMLDB Documentation|XMDLB editor]] within
Moodle. This can be used to generate php upgrade steps.

The [install.xml](#dbinstallxml) schema must match the schema generated by the upgrade at all times.

:::
